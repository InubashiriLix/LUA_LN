Well, the coroutine is a bit more complicated than I thought. I need to read more about it.

